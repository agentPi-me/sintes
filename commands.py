from telegram import Update
from telegram.ext import ContextTypes

START_MESSAGE = """
Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Sintes!

Ð¯ Ð¿Ð¾Ð¼Ð¾Ð³Ñƒ Ð²Ð°Ð¼ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð²Ð°ÑˆÐ¸Ð¼ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· Google ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ. 
Ð”Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾:

1ï¸âƒ£ ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ñ‡ÐµÑ€ÐµÐ· Google (/authorize)
2ï¸âƒ£ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾ÑÑ (/set_timezone)

ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ð¼Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸.
ÐÑƒÐ¶Ð½Ð° Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ? Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ /help
"""

HELP_MESSAGE = r"""
ðŸŽ¯ *Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ Ð±Ð¾Ñ‚Ð°*

*ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:*
â€¢ /start \- ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°
â€¢ /authorize \- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Google Calendar
â€¢ /set\_timezone \- ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾ÑÑÐ°
â€¢ /help \- Ð­Ñ‚Ð¾ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾

*ÐšÐ°Ðº Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ:*
ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ð¸Ð· Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð²:

*ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ¾Ð¼Ð°Ð½Ð´:*
â€¢ "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ 10:00 Ð´Ð¾ 12:00 Ð’ÑÑ‚Ñ€ÐµÑ‡Ð°"
â€¢ "Ð—Ð°Ð²Ñ‚Ñ€Ð° Ñ 14:30 Ð´Ð¾ 15:30 Ð¡Ð¾Ð²ÐµÑ‰Ð°Ð½Ð¸Ðµ"
â€¢ "ÐŸÐ¾ÑÐ»ÐµÐ·Ð°Ð²Ñ‚Ñ€Ð° Ñ 09:00 Ð´Ð¾ 10:00 Ð—Ð²Ð¾Ð½Ð¾Ðº"

*Ð¡Ð¾Ð²ÐµÑ‚Ñ‹:*
â€¢ Ð“Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚Ðµ Ñ‡Ñ‘Ñ‚ÐºÐ¾ Ð¸ Ñ€Ð°Ð·Ð±Ð¾Ñ€Ñ‡Ð¸Ð²Ð¾
â€¢ Ð£ÐºÐ°Ð·Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð² 24\-Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ
â€¢ ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð½Ð¾ÑÐ¸Ñ‚Ðµ Ð² ÐºÐ¾Ð½Ñ†Ðµ

â“ Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹? ÐŸÐ¸ÑˆÐ¸Ñ‚Ðµ: mamishka79@gmail.com
"""

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    await update.message.reply_text(START_MESSAGE)
    
async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    try:
        await update.message.reply_text(
            text=HELP_MESSAGE,
            parse_mode='MarkdownV2'
        )
    except Exception as e:
        await update.message.reply_text(
            text=HELP_MESSAGE.replace('*', '').replace('\\', ''),
            parse_mode=None
        )